{% extends 'layout/app-layout.html' %}

{% block 'content' %}
<div class="container mt-4">
    <h3 class="text-center mb-3">Movie List</h3>

    <table style="border-collapse: collapse; width: 80%; margin: 0 auto;">
        <thead>
            <tr>
                <th style="border: 1px solid #ddd; padding: 8px;">Title</th>
                <th style="border: 1px solid #ddd; padding: 8px;">Thumbnail</th>
                <th style="border: 1px solid #ddd; padding: 8px;">Video</th>
                <th style="border: 1px solid #ddd; padding: 8px;">View Count</th>
            </tr>
        </thead>
        <tbody>
            {% for movie in movies %}
            <tr>
                <td style="border: 1px solid #ddd; padding: 8px;">{{ movie.title }}</td>
                <td style="border: 1px solid #ddd; padding: 8px;">
                    {% if movie.thumbnail_url %}
                        <img src="{{ movie.thumbnail_url.url }}" alt="Thumbnail" width="100">
                    {% else %}
                        No Thumbnail
                    {% endif %}
                </td>
                <td style="border: 1px solid #ddd; padding: 8px;">
                    {% if movie.video_url %}
                        <a href="{{ movie.video_url.url }}" target="_blank">Watch</a>
                    {% else %}
                        No Video
                    {% endif %}
                </td>
                <td style="border: 1px solid #ddd; padding: 8px;">{{ movie.view_count }}</td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="4" style="border: 1px solid #ddd; padding: 8px;">No movies found.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
